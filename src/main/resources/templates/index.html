<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SSE Demo</title>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const eventSource = new EventSource('http://localhost/sse-stream');

            eventSource.onmessage = function(e) {
                console.log('Received message:', e.data); // 打印到控制台
                const message = document.createElement('p');
                message.textContent = 'Message: ' + e.data;
                document.getElementById('sse-data').appendChild(message);
            };

            eventSource.onerror = function(e) {
                console.error('Error occurred:', e);
                eventSource.close();
            };
        });
    </script>
</head>
<body>
<h1>Server-Sent Events (SSE) Demo</h1>
<div id="sse-data">
    <!-- SSE messages will appear here -->
</div>
</body>
</html>
